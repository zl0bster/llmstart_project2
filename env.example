# OTK Assistant - Переменные окружения
# Скопируйте этот файл в .env и заполните необходимые значения

# =============================================================================
# БОТ И БАЗА ДАННЫХ
# =============================================================================

# Токен Telegram бота (обязательно)
# Получите у @BotFather в Telegram
BOT_TOKEN=

# Строка подключения к базе данных
# SQLite по умолчанию, можно заменить на PostgreSQL
DATABASE_URL=sqlite:///data/otk_assistant.db

# Таймаут неактивной сессии в минутах
SESSION_TIMEOUT_MIN=15

# =============================================================================
# ЛОГИ И КЭШ
# =============================================================================

# Уровень логирования (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Директория для логов
LOG_DIR=logs/

# Вывод логов в консоль (true|false)
LOG_CONSOLE=true

# Формат консольного вывода (plain|json)
LOG_CONSOLE_FORMAT=plain

# Корневая папка кэша
CACHE_DIR=cache/

# Кэш фотографий
CACHE_PHOTOS_DIR=cache/photos/

# Кэш аудио файлов
CACHE_AUDIO_DIR=cache/audio/

# Директория с текстовыми промптами
PROMPTS_DIR=prompts/

# =============================================================================
# ОГРАНИЧЕНИЯ МЕДИА
# =============================================================================

# Максимальный размер фото в МБ
MAX_IMAGE_MB=20

# Максимальное разрешение фото (ширина x высота)
MAX_IMAGE_RES=2048x2048

# Максимальный размер аудио в МБ
MAX_AUDIO_MB=25

# Максимальная длительность аудио в минутах
MAX_AUDIO_MIN=25

# Минимальная частота дискретизации аудио (Гц)
AUDIO_MIN_SAMPLE_RATE=16000

# Приводить аудио к моно (true|false)
AUDIO_MONO=true

# =============================================================================
# ПРОВАЙДЕРЫ И МОДЕЛИ
# =============================================================================

# Провайдер для текстового анализа (openrouter|ollama|lmstudio)
LLM_PROVIDER=ollama

# Текстовая модель (gpt-4, gpt-3.5-turbo, llama3.1:8b, openai/gpt-oss-20b, deepseek-r1:7b, etc.)
TEXT_MODEL=qwen2.5:7b

# Провайдер для анализа изображений (openrouter|ollama)
VISION_PROVIDER=openrouter

# Модель для анализа изображений (gpt-4-vision, claude-3-haiku-vision, llava:7b)
VISION_MODEL=gpt-4-vision

# Провайдер для обработки речи (whisper|whisperapi|whispercpp)
SPEECH_PROVIDER=whisperapi

# Модель для обработки речи
# Для whisper: whisper-1
# Для whisperapi: tiny, base, small, medium, large, large-v2
SPEECH_MODEL=large-v2

# =============================================================================
# КЛЮЧИ И ДОСТУП
# =============================================================================

# API ключ для OpenRouter (если используется)
OPENROUTER_API_KEY=

# API ключ для OpenAI (для GPT-4 Vision/Whisper)
OPENAI_API_KEY=

# API ключ для WhisperAPI.com (альтернатива OpenAI Whisper)
WHISPERAPI_API_KEY=

# URL локального LM Studio (по умолчанию)
# Убедитесь, что LM Studio запущен и модель openai/gpt-oss-20b загружена
LMSTUDIO_BASE_URL=http://localhost:1234

# URL Ollama (по умолчанию)
# Убедитесь, что Ollama запущен и модель deepseek-r1:7b установлена
OLLAMA_BASE_URL=http://localhost:11434

# =============================================================================
# СЕТЕВЫЕ ПАРАМЕТРЫ
# =============================================================================

# Таймаут HTTP запросов в секундах
HTTP_TIMEOUT_SEC=30

# Количество повторов при временных ошибках
HTTP_RETRIES=2

# Задержка между повторами в секундах
HTTP_RETRY_BACKOFF_SEC=2

# =============================================================================
# ДОПОЛНИТЕЛЬНЫЕ НАСТРОЙКИ OLLAMA
# =============================================================================

# Автоматическое скачивание модели при запуске (true|false)
OLLAMA_AUTO_PULL=true

# Таймаут для Ollama запросов в секундах (увеличен для локальных моделей)
OLLAMA_TIMEOUT_SEC=300

# Количество токенов для генерации ответа
OLLAMA_NUM_PREDICT=500

# Температура для генерации (0.0-1.0, рекомендуется 0.1 для структурированных ответов)
OLLAMA_TEMPERATURE=0.1
